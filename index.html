
<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smart Salon</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#0a0e1a">
    
    <!-- PWA Metadata -->
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Smart Salon">
    
    <!-- Premium Icons (Base64 Scissors Logo) -->
    <link rel="icon" type="image/png" href="data:image/png;base64,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">
    <link rel="apple-touch-icon" href="data:image/png;base64,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">
    
    <style>
        body { font-family: 'Hind Siliguri', sans-serif; background-color: #0a0e1a; color: #f8fafc; -webkit-tap-highlight-color: transparent; }
        .gradient-gold { background: linear-gradient(to right, #fbbf24, #d97706); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .glass-premium { background: rgba(10, 14, 26, 0.95); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border: 2px solid rgba(251, 191, 36, 0.4); box-shadow: 0 0 60px rgba(251, 191, 36, 0.2); }
        @keyframes zoomInModal { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
        .animate-zoom-in { animation: zoomInModal 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
    </style>
<script type="importmap">
{
  "imports": {
    "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@^2.95.3",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="overflow-x-hidden">
    <div id="root"></div>

    <!-- PREMIUM CENTERED PWA INSTALL MODAL -->
    <div id="pwa-install-overlay" class="hidden fixed inset-0 z-[10000] flex items-center justify-center p-6">
        <div class="absolute inset-0 bg-slate-950/90 backdrop-blur-xl" onclick="closePwaOverlay()"></div>
        <div class="glass-premium w-full max-w-sm p-10 rounded-[56px] relative animate-zoom-in text-center space-y-8 overflow-hidden">
            <!-- Decorative background elements -->
            <div class="absolute -top-24 -right-24 w-48 h-48 bg-amber-500/10 blur-[80px] rounded-full"></div>
            <div class="absolute -bottom-24 -left-24 w-48 h-48 bg-amber-500/5 blur-[80px] rounded-full"></div>
            
            <div class="flex justify-center relative">
                <div class="w-28 h-28 bg-gradient-to-br from-amber-400/20 to-amber-600/5 rounded-[42px] flex items-center justify-center border border-amber-500/30 shadow-[0_0_50px_rgba(251,191,36,0.15)]">
                    <!-- Premium Scissors Logo SVG (Matching User's Logo) -->
                    <svg class="w-16 h-16 text-amber-500 drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="6" cy="6" r="3"></circle>
                        <circle cx="6" cy="18" r="3"></circle>
                        <line x1="20" y1="4" x2="8.12" y2="15.88"></line>
                        <line x1="14.47" y1="14.48" x2="20" y2="20"></line>
                        <line x1="8.12" y1="8.12" x2="12" y2="12"></line>
                    </svg>
                </div>
            </div>
            <div class="space-y-4 relative">
                <h2 class="text-3xl font-black gradient-gold tracking-tight leading-tight">Smart Salon অ্যাপটি ইন্সটল করুন</h2>
                <p class="text-slate-400 text-sm font-medium leading-relaxed px-2">সেরা অভিজ্ঞতা এবং রিয়েল-টাইম বুকিং আপডেট পেতে অ্যাপটি আপনার হোম স্ক্রিনে যোগ করুন।</p>
            </div>
            <div class="space-y-4 pt-4 relative">
                <button id="pwa-install-btn" onclick="handlePwaInstallClick()" class="w-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-600 text-slate-950 font-black py-5 rounded-[24px] shadow-[0_20px_40px_rgba(245,158,11,0.2)] active:scale-95 transition-all uppercase tracking-[0.2em] text-xs">
                    এখনই ইন্সটল করুন
                </button>
                <button onclick="closePwaOverlay()" class="w-full text-slate-500 font-bold text-[10px] uppercase tracking-[0.3em] py-2 hover:text-slate-300 transition-colors">
                    পরে করবো
                </button>
            </div>
            
            <!-- iOS Instructions (Hidden by default) -->
            <div id="ios-instructions" class="hidden space-y-6 pt-2 animate-in fade-in slide-in-from-bottom-4 duration-700">
                <div class="h-px bg-gradient-to-r from-transparent via-amber-500/20 to-transparent"></div>
                <p class="text-amber-500/80 text-[10px] font-bold uppercase tracking-widest">iOS ব্যবহারকারীদের জন্য:</p>
                <div class="flex items-center justify-center gap-6 text-slate-400">
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center border border-slate-700">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" /></svg>
                        </div>
                        <span class="text-[9px] font-bold uppercase tracking-tighter">১. শেয়ার চাপুন</span>
                    </div>
                    <svg class="w-4 h-4 text-slate-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M9 5l7 7-7 7" /></svg>
                    <div class="flex flex-col items-center gap-2">
                        <div class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center border border-slate-700">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4v16m8-8H4" /></svg>
                        </div>
                        <span class="text-[9px] font-bold uppercase tracking-tighter">২. অ্যাড টু হোম স্ক্রিন</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/index.tsx"></script>
    <script>
      // Service Worker registration
      async function registerSW() {
        if ('serviceWorker' in navigator) {
          if (window.location.hostname.includes('usercontent.goog')) return;
          try {
            await navigator.serviceWorker.register('/sw.js', { scope: '/' });
            console.log('Smart Salon: PWA Core Ready');
          } catch (err) {
            console.warn('SW failed:', err.message);
          }
        }
      }
      registerSW();

      let deferredPrompt;
      const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
      const isStandalone = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;

      // Force show popup after a short delay if not installed
      window.addEventListener('load', () => {
          if (!isStandalone) {
              setTimeout(() => {
                  const overlay = document.getElementById('pwa-install-overlay');
                  if (overlay) {
                      overlay.classList.remove('hidden');
                      if (isIOS) {
                          document.getElementById('pwa-install-btn')?.classList.add('hidden');
                          document.getElementById('ios-instructions')?.classList.remove('hidden');
                      }
                  }
              }, 2000);
          }
      });

      // Listen for the install prompt event
      window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent the default mini-infobar
        e.preventDefault();
        // Stash the event so it can be triggered later.
        deferredPrompt = e;
        console.log('Smart Salon: Install Prompt Ready');
      });

      async function handlePwaInstallClick() {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            console.log(`User choice: ${outcome}`);
            deferredPrompt = null;
            closePwaOverlay();
        } else if (!isIOS) {
            // If prompt is not ready yet, we tell them to use the browser menu
            alert('আপনার ব্রাউজারটি সরাসরি ইন্সটল সাপোর্ট করছে না অথবা সিস্টেমটি প্রস্তুত হচ্ছে। দয়া করে ব্রাউজার মেনু থেকে "Install App" বা "Add to Home Screen" অপশনটি ব্যবহার করুন।');
        }
      }

      function closePwaOverlay() {
        const overlay = document.getElementById('pwa-install-overlay');
        if (overlay) overlay.classList.add('hidden');
      }
    </script>
</body>
</html>
